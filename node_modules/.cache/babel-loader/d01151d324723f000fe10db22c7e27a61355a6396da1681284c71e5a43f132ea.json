{"ast":null,"code":"import React,{useState,useEffect}from'react';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";function Timer(_ref){let{duration,onTimeout,startTime,active}=_ref;const[remainingTime,setRemainingTime]=useState(duration);useEffect(()=>{if(!active||!startTime){setRemainingTime(duration);return;}const updateTimer=()=>{const now=Date.now();const elapsed=Math.floor((now-startTime)/1000);const remaining=Math.max(0,duration-elapsed);setRemainingTime(remaining);if(remaining===0&&onTimeout){onTimeout();}};updateTimer();const interval=setInterval(updateTimer,1000);return()=>clearInterval(interval);},[duration,startTime,active,onTimeout]);if(!active){return null;}const percentage=remainingTime/duration*100;const isUrgent=remainingTime<=5;return/*#__PURE__*/_jsx(\"div\",{className:\"timer \".concat(isUrgent?'urgent':''),children:/*#__PURE__*/_jsxs(\"div\",{className:\"timer-display\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"time-left\",children:[remainingTime,\"s\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"timer-bar\",children:/*#__PURE__*/_jsx(\"div\",{className:\"timer-fill\",style:{width:\"\".concat(percentage,\"%\")}})})]})});}export default Timer;","map":{"version":3,"names":["React","useState","useEffect","jsxs","_jsxs","jsx","_jsx","Timer","_ref","duration","onTimeout","startTime","active","remainingTime","setRemainingTime","updateTimer","now","Date","elapsed","Math","floor","remaining","max","interval","setInterval","clearInterval","percentage","isUrgent","className","concat","children","style","width"],"sources":["C:/Users/lamtm/Downloads/cracklist-web/src/components/Timer.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\nfunction Timer({ duration, onTimeout, startTime, active }) {\r\n  const [remainingTime, setRemainingTime] = useState(duration);\r\n\r\n  useEffect(() => {\r\n    if (!active || !startTime) {\r\n      setRemainingTime(duration);\r\n      return;\r\n    }\r\n\r\n    const updateTimer = () => {\r\n      const now = Date.now();\r\n      const elapsed = Math.floor((now - startTime) / 1000);\r\n      const remaining = Math.max(0, duration - elapsed);\r\n      \r\n      setRemainingTime(remaining);\r\n      \r\n      if (remaining === 0 && onTimeout) {\r\n        onTimeout();\r\n      }\r\n    };\r\n\r\n    updateTimer();\r\n    const interval = setInterval(updateTimer, 1000);\r\n\r\n    return () => clearInterval(interval);\r\n  }, [duration, startTime, active, onTimeout]);\r\n\r\n  if (!active) {\r\n    return null;\r\n  }\r\n\r\n  const percentage = (remainingTime / duration) * 100;\r\n  const isUrgent = remainingTime <= 5;\r\n\r\n  return (\r\n    <div className={`timer ${isUrgent ? 'urgent' : ''}`}>\r\n      <div className=\"timer-display\">\r\n        <span className=\"time-left\">{remainingTime}s</span>\r\n        <div className=\"timer-bar\">\r\n          <div \r\n            className=\"timer-fill\" \r\n            style={{ width: `${percentage}%` }}\r\n          ></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Timer;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAAC,OAAAC,IAAA,IAAAC,KAAA,CAAAC,GAAA,IAAAC,IAAA,yBAEnD,QAAS,CAAAC,KAAKA,CAAAC,IAAA,CAA6C,IAA5C,CAAEC,QAAQ,CAAEC,SAAS,CAAEC,SAAS,CAAEC,MAAO,CAAC,CAAAJ,IAAA,CACvD,KAAM,CAACK,aAAa,CAAEC,gBAAgB,CAAC,CAAGb,QAAQ,CAACQ,QAAQ,CAAC,CAE5DP,SAAS,CAAC,IAAM,CACd,GAAI,CAACU,MAAM,EAAI,CAACD,SAAS,CAAE,CACzBG,gBAAgB,CAACL,QAAQ,CAAC,CAC1B,OACF,CAEA,KAAM,CAAAM,WAAW,CAAGA,CAAA,GAAM,CACxB,KAAM,CAAAC,GAAG,CAAGC,IAAI,CAACD,GAAG,CAAC,CAAC,CACtB,KAAM,CAAAE,OAAO,CAAGC,IAAI,CAACC,KAAK,CAAC,CAACJ,GAAG,CAAGL,SAAS,EAAI,IAAI,CAAC,CACpD,KAAM,CAAAU,SAAS,CAAGF,IAAI,CAACG,GAAG,CAAC,CAAC,CAAEb,QAAQ,CAAGS,OAAO,CAAC,CAEjDJ,gBAAgB,CAACO,SAAS,CAAC,CAE3B,GAAIA,SAAS,GAAK,CAAC,EAAIX,SAAS,CAAE,CAChCA,SAAS,CAAC,CAAC,CACb,CACF,CAAC,CAEDK,WAAW,CAAC,CAAC,CACb,KAAM,CAAAQ,QAAQ,CAAGC,WAAW,CAACT,WAAW,CAAE,IAAI,CAAC,CAE/C,MAAO,IAAMU,aAAa,CAACF,QAAQ,CAAC,CACtC,CAAC,CAAE,CAACd,QAAQ,CAAEE,SAAS,CAAEC,MAAM,CAAEF,SAAS,CAAC,CAAC,CAE5C,GAAI,CAACE,MAAM,CAAE,CACX,MAAO,KAAI,CACb,CAEA,KAAM,CAAAc,UAAU,CAAIb,aAAa,CAAGJ,QAAQ,CAAI,GAAG,CACnD,KAAM,CAAAkB,QAAQ,CAAGd,aAAa,EAAI,CAAC,CAEnC,mBACEP,IAAA,QAAKsB,SAAS,UAAAC,MAAA,CAAWF,QAAQ,CAAG,QAAQ,CAAG,EAAE,CAAG,CAAAG,QAAA,cAClD1B,KAAA,QAAKwB,SAAS,CAAC,eAAe,CAAAE,QAAA,eAC5B1B,KAAA,SAAMwB,SAAS,CAAC,WAAW,CAAAE,QAAA,EAAEjB,aAAa,CAAC,GAAC,EAAM,CAAC,cACnDP,IAAA,QAAKsB,SAAS,CAAC,WAAW,CAAAE,QAAA,cACxBxB,IAAA,QACEsB,SAAS,CAAC,YAAY,CACtBG,KAAK,CAAE,CAAEC,KAAK,IAAAH,MAAA,CAAKH,UAAU,KAAI,CAAE,CAC/B,CAAC,CACJ,CAAC,EACH,CAAC,CACH,CAAC,CAEV,CAEA,cAAe,CAAAnB,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}